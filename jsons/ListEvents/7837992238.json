{
  "actor": {
    "avatar_url": "https://avatars.githubusercontent.com/u/3100137?",
    "gravatar_id": "",
    "id": 3100137,
    "login": "JohnCremona",
    "url": "https://api.github.com/users/JohnCremona"
  },
  "created_at": "2018-06-18T08:41:37Z",
  "id": "7837992238",
  "org": {
    "avatar_url": "https://avatars.githubusercontent.com/u/3043016?",
    "id": 3043016,
    "login": "LMFDB",
    "url": "https://api.github.com/orgs/LMFDB"
  },
  "payload": {
    "action": "created",
    "comment": {
      "author_association": "MEMBER",
      "body": "That is not what I thought I had implemented!  If so, I'm sorry.  What I thought I had done was only to add the string \" (beta status)\" to the title displayed, and absolutely not to change the title as stored.\r\n\r\nLooking  at the collection knowledge.knowls I find 12 with \"beta status\" in their title now:\r\n`[u'Birch and Swinnerton-Dyer invariants of an elliptic curve/$\\\\mathbb{Q}$ (beta status)',\r\n u'Discriminant of an elliptic curve over $\\\\Q$ (beta status)',\r\n u'Geometric isomorphism class of a curve (beta status)',\r\n u'Modular curve $X_0(50)$ (beta status)',\r\n u'Discriminant of a Weierstrass equation (beta status) (beta status) (beta status)',\r\n u'Borel case (beta status)',\r\n u'Endomorphism ring (beta status)',\r\n u'Modular curve $X_1(13)$ (beta status)',\r\n u'C277 (beta status) (beta status)',\r\n u'Modular curve $X_0(37)$ (beta status)',\r\n u'L-function of an abelian variety over $\\\\mathbb{Q}$ (beta status)',\r\n u'Birch and Swinnerton-Dyer conjecture (beta status)']\r\n`\r\nand of course we can correct these but it is also urgent to stop it happening any more.  I am mystified by there not being more since I thought that the knowl reviewing I did 2-3 weeks ago was with this \"beta status\" code.\r\n\r\nHere is my diagnosis: in lmfdb/knowledge/knowl.py there are two function called \"title\".  One (from line 300) is a \"property\" and returns the title string, with \" (beta status)\" appended depending on some condition.  This one is certainly not supposed to change anything which is stored.  BUT there is a second function title() from line 314 which stores into the db the current strong returned by the first function.  It is the interplay between these two which is having the unforeseen side-effects.\r\n\r\nThe simplest fix would be to undo my changes, i.e. delete lines 310-311, and then manually correct the dozen knowls above.  I am going to do this right away.",
      "created_at": "2018-06-18T08:41:37Z",
      "html_url": "https://github.com/LMFDB/lmfdb/issues/2495#issuecomment-397983000",
      "id": 397983000,
      "issue_url": "https://api.github.com/repos/LMFDB/lmfdb/issues/2495",
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzk4MzAwMA==",
      "updated_at": "2018-06-18T08:41:37Z",
      "url": "https://api.github.com/repos/LMFDB/lmfdb/issues/comments/397983000",
      "user": {
        "avatar_url": "https://avatars2.githubusercontent.com/u/3100137?v=4",
        "events_url": "https://api.github.com/users/JohnCremona/events{/privacy}",
        "followers_url": "https://api.github.com/users/JohnCremona/followers",
        "following_url": "https://api.github.com/users/JohnCremona/following{/other_user}",
        "gists_url": "https://api.github.com/users/JohnCremona/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/JohnCremona",
        "id": 3100137,
        "login": "JohnCremona",
        "node_id": "MDQ6VXNlcjMxMDAxMzc=",
        "organizations_url": "https://api.github.com/users/JohnCremona/orgs",
        "received_events_url": "https://api.github.com/users/JohnCremona/received_events",
        "repos_url": "https://api.github.com/users/JohnCremona/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/JohnCremona/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JohnCremona/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/JohnCremona"
      }
    },
    "issue": {
      "assignee": null,
      "assignees": [],
      "author_association": "MEMBER",
      "body": "Knowls which have beta status have (beta status) added to their descriptions.  If you change the status of the knowl, the (beta status) has to be removed manually.  If you edit such a knowl and leave it as beta, then you can end up with \"(beta status) (beta status)\" in the description.\r\n\r\nIt should definitely only add (beta status) at most once, and if it is added automatically, it should probably be removed automatically.",
      "closed_at": null,
      "comments": 0,
      "comments_url": "https://api.github.com/repos/LMFDB/lmfdb/issues/2495/comments",
      "created_at": "2018-06-17T20:47:42Z",
      "events_url": "https://api.github.com/repos/LMFDB/lmfdb/issues/2495/events",
      "html_url": "https://github.com/LMFDB/lmfdb/issues/2495",
      "id": 333091716,
      "labels": [],
      "labels_url": "https://api.github.com/repos/LMFDB/lmfdb/issues/2495/labels{/name}",
      "locked": false,
      "milestone": null,
      "node_id": "MDU6SXNzdWUzMzMwOTE3MTY=",
      "number": 2495,
      "repository_url": "https://api.github.com/repos/LMFDB/lmfdb",
      "state": "open",
      "title": "Beta status in description of knowls",
      "updated_at": "2018-06-18T08:41:37Z",
      "url": "https://api.github.com/repos/LMFDB/lmfdb/issues/2495",
      "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/1873320?v=4",
        "events_url": "https://api.github.com/users/jwj61/events{/privacy}",
        "followers_url": "https://api.github.com/users/jwj61/followers",
        "following_url": "https://api.github.com/users/jwj61/following{/other_user}",
        "gists_url": "https://api.github.com/users/jwj61/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jwj61",
        "id": 1873320,
        "login": "jwj61",
        "node_id": "MDQ6VXNlcjE4NzMzMjA=",
        "organizations_url": "https://api.github.com/users/jwj61/orgs",
        "received_events_url": "https://api.github.com/users/jwj61/received_events",
        "repos_url": "https://api.github.com/users/jwj61/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jwj61/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jwj61/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jwj61"
      }
    }
  },
  "public": true,
  "repo": {
    "id": 7166369,
    "name": "LMFDB/lmfdb",
    "url": "https://api.github.com/repos/LMFDB/lmfdb"
  },
  "type": "IssueCommentEvent"
}